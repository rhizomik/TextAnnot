<div class="card">
  <div class="card-block">
    <div class="card-header">
      <h3 class="card-title mt-2" i18n>Change Password</h3>
    </div>
    <div class="alert alert-danger m-3" *ngIf="showAlert">
      {{errMessage}}
    </div>

    <form (ngSubmit)="onSubmit()" #form="ngForm">
      <fieldset class="m-3">

        <div class="form-group">
          <label class="control-label" for="currentPassword" i18n>Current Password</label>
          <input id="currentPassword" name="currentPassword" type="password" class="form-control"
                 [(ngModel)]="currentPassword">
        </div>

        <div class="form-group" [class.was-validated]="password.dirty || password.touched">
          <label class="control-label" for="newPassword" i18n>New Password</label>
          <input id="newPassword" name="newPassword" type="password" class="form-control" required
                 minlength="8" maxlength="256" [(ngModel)]="newPassword" #password="ngModel">
          <div class="invalid-feedback" i18n>A password longer than 8 characters is required</div>
        </div>

        <div class="form-group">
          <label class="control-label" for="repNewPassword" i18n>Repeat New Password</label>
          <input id="repNewPassword" name="repNewPassword" type="password" class="form-control" required
                 [(ngModel)]="repNewPassword">
        </div>

      </fieldset>

      <!-- Button -->
      <div class="card-footer text-right">
        <button id="submit" type="submit" class="btn btn-success" [disabled]="!form.form.valid" i18n>Submit</button>
        <button type="button" class="btn btn-danger ml-2" (click)="closeModal()" i18n>Cancel</button>
      </div>
    </form>

  </div>
</div>
